<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Map Mitigasi</title>
  <link rel="icon" href="logodismap.png" type="image/x-icon" sizes="72x72">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <style>
    body {
      /* Properti untuk latar belakang gambar */
      background-size: cover; /* Mengatur gambar agar mencakup seluruh area latar belakang */
      background-repeat: no-repeat; /* Mencegah pengulangan gambar */
      background-attachment: fixed; /* Membuat gambar tetap saat halaman di-scroll */
      background-position: center; /* Menyelaraskan gambar di tengah */
      font-family: 'Times New Roman', Times, serif, sans-serif;
      margin: 0;
      padding: 0;
    }
    #map-container {
      display: flex;
      align-items: flex-start;
      width: 100%;
      height: 600px;
      margin: auto;
      border: 1px solid #a19b9b;
      border-radius: 5px;
      overflow: hidden;
    }

    #map {
      flex: 1;
      height: 100%;
    }

    #sidebar {
      flex: 0 0 300px; /* Lebar samping */
      background-color: #f4f4f400;
      padding: 10px;
      border-left: 1px solid #535353;
      color: #484343;
    }
  </style>
</head>
<body>
  <div id="map-container">
    <div id="map"></div>
    <div id="sidebar">
      <h2>Data Tertera pada Peta:</h2>
      <p>- Data Terjadinya Gempa Bumi</p>
      <p>-Jalur Evakuasi Tsunami</p>
    </div>
  </div>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
    const map = L.map('map').setView([-6.320105454926274, 105.8370999332314], 15);

    const tiles = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
      attribution: '&copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a>',
    }).addTo(map);

    var customIcon = L.icon({
      iconUrl: 'http://maps.google.com/mapfiles/kml/paddle/blu-circle.png',
      iconSize: [32, 32],
      iconAnchor: [16, 32],
      popupAnchor: [0, -32]
    });

    // Data GeoJSON yang diberikan
    var data = {
    "type": "FeatureCollection",
    "features": [
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [105.8370999332314, -6.320105454926274]
            },
            "properties": {
                "name": "Puskesmas Carita",
                "styleUrl": "#m_ylw-pushpin",
                "icon-scale": 1.1,
                "icon-offset": [32, 1],
                "icon-offset-units": ["pixels", "pixels"],
                "icon": "http://maps.google.com/mapfiles/kml/paddle/grn-circle.png",
                "popupContent": "<a href='https://nasional.tempo.co/read/1158433/menteri-nila-puskesmas-carita-tangani-232-korban-tsunami-banten' target='_blank'><b>Puskesmas Carita</b></a><p>6°18'37.6\"S 105°50'42.7\"E</p><p>Tempat Evakuasi Untuk Bencana Alam</p>"
            }
        },
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [105.5839178782765, -6.661543317585291]
            },
            "properties": {
                "name": "Kantor Desa Kertajaya",
                "styleUrl": "#msn_grn-circle",
                "icon-scale": 1.1,
                "icon-offset": [32, 1],
                "icon-offset-units": ["pixels", "pixels"],
                "icon": "http://maps.google.com/mapfiles/kml/paddle/grn-circle.png",
                "popupContent": "<a href='https://www.beritasatu.com/news/529714/korban-tsunami-di-desa-kertajaya-masih-bertahan-di-perbukitan' target='_blank'><b>Kantor Desa KertaJaya</b></a><p>6°41'00.3\"S 105°34'06.8\"E</p><p>Tempat Evakuasi Untuk Bencana Alam</p>"
            }
        },
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [105.8393147289307, -6.319572899183976]
            },
            "properties": {
                "name": "Kantor Kecamatan Carita",
                "styleUrl": "#m_ylw-pushpin",
                "icon-scale": 1.1,
                "icon-offset": [32, 1],
                "icon-offset-units": ["pixels", "pixels"],
                "icon": "http://maps.google.com/mapfiles/kml/paddle/grn-circle.png",
                "popupContent": "<a href='https://regional.kompas.com/read/2018/12/23/14465201/berita-foto-ada-kabar-tsunami-susulan-di-carita-banten-warga-berhamburan' target='_blank'><b>Kecamatan Carita</b></a><p>6°19'10.46\"S 105°50'21.53\"E</p><p>Tempat Evakuasi Untuk Bencana Alam</p>"
            }
        },
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [105.8345455863172, -6.329787835671814]
            },
            "properties": {
                "name": "Mesjid Jami Pamatang",
                "styleUrl": "#msn_grn-circle",
                "icon-scale": 1.1,
                "icon-offset": [32, 1],
                "icon-offset-units": ["pixels", "pixels"],
                "icon": "http://maps.google.com/mapfiles/kml/paddle/grn-circle.png",
                "popupContent": "<a href='https://regional.kompas.com/read/2018/12/23/14465201/berita-foto-ada-kabar-tsunami-susulan-di-carita-banten-warga-berhamburan' target='_blank'><b>Masjid Jami Pamatang</b></a><p>6°19'47.24\"S 105°50'4.36\"E</p><p>Tempat Evakuasi Untuk Bencana Alam</p>"
            }
        },
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [105.8373818051474, -6.318413970408631]
            },
            "properties": {
                "name": "Masjid Jami Al Barokah",
                "styleUrl": "#m_ylw-pushpin",
                "icon-scale": 1.1,
                "icon-offset": [32, 1],
                "icon-offset-units": ["pixels", "pixels"],
                "icon": "http://maps.google.com/mapfiles/kml/paddle/grn-circle.png",
                "popupContent": "<a href='https://www.researchgate.net/publication/376510667_Determination_of_Tsunami_Evacuation_Shelters_and_Routes_Based_on_the_Historical_Tsunami_of_Anak_Krakatau_Volcano_in_the_Coast_of_Carita_Village_Banten' target='_blank'><b>Masjid Jami Al Barokah</b></a><p>6°19'6.29\"S 105°50'14.57\"E</p><p>Tempat Evakuasi Untuk Bencana Alam</p>"
            }
        },
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [105.5076500255267, -6.777166808183348]
            },
            "properties": {
                "name": "Masjid Jami Al Mujtahdin",
                "styleUrl": "#msn_grn-circle",
                "icon-scale": 1.1,
                "icon-offset": [32, 1],
                "icon-offset-units": ["pixels", "pixels"],
                "icon": "http://maps.google.com/mapfiles/kml/paddle/grn-circle.png",
                "popupContent": "<a href='https://www.bbc.com/indonesia/indonesia-46663539' target='_blank'><b>Masjid Jami Al Mujtahdin</b></a><p>6°46'37.80\"S 105°30'27.54\"E</p><p>Tempat Evakuasi Untuk Bencana Alam</p>"
            }
        },
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [105.5100131727622, -6.788217228937277]
            },
            "properties": {
                "name": "Pondok Pesantren Nurul Jannah Albantani",
                "styleUrl": "#msn_grn-circle",
                "icon-scale": 1.1,
                "icon-offset": [32, 1],
                "icon-offset-units": ["pixels", "pixels"],
                "icon": "http://maps.google.com/mapfiles/kml/paddle/grn-circle.png",
                "popupContent": "<a href='https://www.waze.com/id/live-map/directions/id/daerah-khusus-ibukota-jakarta/pondok-pesantren-nurul-jannah?to=place.ChIJO_9vC7uMaS4RbYj4b-ajwOc' target='_blank'><b>Pondok Pesantren Nurul Jannah Albantani</b></a><p>6°47'17.58\"S 105°30'36.05\"E</p><p>Lokasi Keberadaan Tempat Tersebut</p>"
            }
        },
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [105.5080224893071, -6.787743191586654]
            },
            "properties": {
                "name": "Pondok Pesantren Tarbiyatus Sibyan",
                "styleUrl": "#msn_grn-circle",
                "icon-scale": 1.1,
                "icon-offset": [32, 1],
                "icon-offset-units": ["pixels", "pixels"],
                "icon": "http://maps.google.com/mapfiles/kml/paddle/grn-circle.png",
                "popupContent": "<a href='https://www.google.com/maps/place/Pondok+Pesantren+Tarbiyatus+Shibyan/@-6.1224974,106.0879146,15z/data=!4m2!3m1!1s0x0:0x416fefd1e0d3dc4e?sa=X&ved=1t:2428&ictx=111' target='_blank'><b>Pondok Pesantren Tarbiyatus Sibyan</b></a><p>6°47'15.88\"S 105°30'28.88\"E</p><p>Tempat Evakuasi Untuk Bencana Alam</p>"
            }
        },
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [105.5830143350215, -6.659243280499417]
            },
            "properties": {
                "name": "Kantor Kecamatan Sumur",
                "styleUrl": "#msn_grn-circle",
                "icon-scale": 1.1,
                "icon-offset": [32, 1],
                "icon-offset-units": ["pixels", "pixels"],
                "icon": "http://maps.google.com/mapfiles/kml/paddle/grn-circle.png"
            }
        },
        // Feature for Gempa Banten Januari 2022
        {
      "type": "Feature",
      "geometry": {
        "type": "Point",
        "coordinates": [104.5965931850718, -7.37055240027852, 0]
      },
      "properties": {
        "name": "Gempa Banten Januari 2022",
        "styleUrl": "#msn_earthquake",
        "icon-scale": 1.2,
        "icon-offset": [0.5, 0],
        "icon-offset-units": ["fraction", "fraction"],
        "icon": "http://maps.google.com/mapfiles/kml/shapes/earthquake.png",
        "popupContent": "<a href='https://m.youtube.com/watch?v=lxfRDHvXXRE](https://m.youtube.com/watch?v=lxfRDHvXXRE)' target='_blank'><b>Gempa Banten Januari 2022</b></a><p>7.21° LS, 105.05° BT</p><p>Kekuatan: M 6.6</p><p>Kedalaman: 40 km</p><p>Info dan Berita Seputar Bencana Alam Tersebut</p>"
            }
    },
    {
      "type": "Feature",
      "geometry": {
        "type": "Point",
        "coordinates": [105.7684254982099, -7.67749301768091, 0]
      },
      "properties": {
        "name": "Gempa Banten Februari 2024",
        "styleUrl": "#msn_earthquake",
        "icon-scale": 1.2,
        "icon-offset": [0.5, 0],
        "icon-offset-units": ["fraction", "fraction"],
        "icon": "http://maps.google.com/mapfiles/kml/shapes/earthquake.png",
        "popupContent": "<a href='https://vsi.esdm.go.id/](https://vsi.esdm.go.id/)' target='_blank'><b>Gempa Banten Februari 2024</b></a><p>7.61° LS, 105.9° BT</p><p>Kekuatan: M 5.7</p><p>Kedalaman: 10 km</p><p>Info dan Berita Seputar Bencana Alam Tersebut</p>"
            }
    },
    {
      "type": "Feature",
      "geometry": {
        "type": "Point",
        "coordinates": [106.5653539970217, -6.131497135696394, 0]
      },
      "properties": {
        "name": "Gempa Tangerang Mei 2024",
        "styleUrl": "#msn_earthquake",
        "icon-scale": 1.2,
        "icon-offset": [0.5, 0],
        "icon-offset-units": ["fraction", "fraction"],
        "icon": "http://maps.google.com/mapfiles/kml/shapes/earthquake.png",
        "popupContent": "<a href='https://news.detik.com/berita/d-7341694/gempa-m-4-3-terjadi-di-tangerang-kedalaman-248-km](https://news.detik.com/berita/d-7341694/gempa-m-4-3-terjadi-di-tangerang-kedalaman-248-km)' target='_blank'><b>Gempa Banten Februari 2024</b></a><p>7.61° LS, 105.9° BT</p><p>Kekuatan: M 5.7</p><p>Kedalaman: 10 km</p><p>Info dan Berita Seputar Bencana Alam Tersebut</p>"
            }
    }
  ]
}

    var lineData = {
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [105.51004111562, -6.788023068419588],
          [105.5100148944424, -6.788351535864464],
          [105.5095054640045, -6.788291466908861],
          [105.508895700001, -6.788224182347512],
          [105.5088289278607, -6.788181279587304],
          [105.5087721187296, -6.788066133128312],
          [105.50862872907, -6.788078587057694],
          [105.5082238758997, -6.788159558442797],
          [105.5079645519733, -6.787896446724218],
          [105.5077385941355, -6.787546036563207],
          [105.5076639070104, -6.787344062976437],
          [105.5076000829358, -6.787089225004301],
          [105.5074931113037, -6.786665748786143],
          [105.5074404397679, -6.786575568338765],
          [105.5072924112908, -6.786477490186688],
          [105.5071578862736, -6.786448371089167],
          [105.5069932412654, -6.786357542277517],
          [105.5068807466334, -6.786263698879897],
          [105.5067632028166, -6.786189323490155],
          [105.5064412239329, -6.786217052994989],
          [105.506234963761, -6.786255223877051],
          [105.506088495973, -6.786241027068733],
          [105.5058606281867, -6.786151676616114],
          [105.5056669473578, -6.78605233127985],
          [105.5055031984844, -6.786053987214194],
          [105.5047558716795, -6.786005282764672],
          [105.5047475842782, -6.785479015529401],
          [105.5045627674734, -6.785012348265072],
          [105.5044701615666, -6.78477683302002],
          [105.5043623220185, -6.784479123253843],
          [105.504056155878, -6.783678690320698],
          [105.504059460104, -6.783243970168764],
          [105.5041017362037, -6.782919925682562],
          [105.5042218720268, -6.782586373423031],
          [105.5042529103957, -6.782345662854273],
          [105.504221134948, -6.782194918901739]
        ]
      },
      "properties": {
        "name": "Rute Perjalanan",
        "color": "#ff7800",
        "weight": 5,
        "opacity": 0.65
      }
    },
    {
      "type": "Feature",
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [105.5050488288011, -6.774702713846344],
          [105.5055457006053, -6.774942488933391],
          [105.5057377378369, -6.774825117718454],
          [105.5059328495701, -6.774805763844905],
          [105.5057437476446, -6.774824678657057],
          [105.5055483507963, -6.774945331333831],
          [105.5056819756322, -6.775381869105725],
          [105.5056527794574, -6.775769360495652],
          [105.5057871726124, -6.77608534866348],
          [105.5058966749104, -6.776339723728108],
          [105.5060000952614, -6.776547730954907],
          [105.5060806883876, -6.776622566725884],
          [105.5059037453374, -6.776913728666996],
          [105.5056990005185, -6.776705952596265],
          [105.5054361538168, -6.776554536434871],
          [105.5053023535208, -6.776496259412495],
          [105.5052780400714, -6.776138857914136],
          [105.5052650745273, -6.776056610377316],
          [105.5049642435215, -6.776017752464324],
          [105.5048394279463, -6.775734941377127],
          [105.5047654753675, -6.77565129131027],
          [105.5048206990507, -6.775178331410392],
          [105.5049044158301, -6.774700778152517],
          [105.5049646585572, -6.774450487184581],
          [105.5048691219046, -6.77485663742831],
          [105.5047883130787, -6.775429858783511],
          [105.5047680413015, -6.775653971173453],
          [105.504839431538, -6.775740127305302],
          [105.5049668275585, -6.776015339661749],
          [105.5052632457217, -6.776058296665254],
          [105.5052749711689, -6.776134958571908],
          [105.5053026659283, -6.776495705957448],
          [105.505433177464, -6.776553069621063],
          [105.5056993688477, -6.776709392348152],
          [105.5059046278132, -6.776915170431469],
          [105.5064665854979, -6.777172220116873],
          [105.5068738794156, -6.777246954874611],
          [105.5073253882261, -6.77719179451714],
          [105.5076459583479, -6.777177399808555]
        ]
      },
      "properties": {
        "name": "Rute Perjalanan 2",
        "color": "#00ff7f",
        "weight": 2,
        "opacity": 1
      }
    },
    {
      "type": "Feature",
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [105.5050488288011, -6.774702713846344, 0],
          [105.5055457006053, -6.774942488933391, 0],
          [105.5057377378369, -6.774825117718454, 0],
          [105.5059328495701, -6.774805763844905, 0],
          [105.5057437476446, -6.774824678657057, 0],
          [105.5055483507963, -6.774945331333831, 0],
          [105.5056819756322, -6.775381869105725, 0],
          [105.5056527794574, -6.775769360495652, 0],
          [105.5057871726124, -6.77608534866348, 0],
          [105.5058966749104, -6.776339723728108, 0],
          [105.5060000952614, -6.776547730954907, 0],
          [105.5060806883876, -6.776622566725884, 0],
          [105.5059037453374, -6.776913728666996, 0],
          [105.5056990005185, -6.776705952596265, 0],
          [105.5054361538168, -6.776554536434871, 0],
          [105.5053023535208, -6.776496259412495, 0],
          [105.5052780400714, -6.776138857914136, 0],
          [105.5052650745273, -6.776056610377316, 0],
          [105.5049642435215, -6.776017752464324, 0],
          [105.5048394279463, -6.775734941377127, 0],
          [105.5047654753675, -6.77565129131027, 0],
          [105.5048206990507, -6.775178331410392, 0],
          [105.5049044158301, -6.774700778152517, 0],
          [105.5049646585572, -6.774450487184581, 0],
          [105.5048691219046, -6.77485663742831, 0],
          [105.5047883130787, -6.775429858783511, 0],
          [105.5047680413015, -6.775653971173453, 0],
          [105.504839431538, -6.775740127305302, 0],
          [105.5049668275585, -6.776015339661749, 0],
          [105.5052632457217, -6.776058296665254, 0],
          [105.5052749711689, -6.776134958571908, 0],
          [105.5053026659283, -6.776495705957448, 0],
          [105.505433177464, -6.776553069621063, 0],
          [105.5056993688477, -6.776709392348152, 0],
          [105.5059046278132, -6.776915170431469, 0],
          [105.5064665854979, -6.777172220116873, 0],
          [105.5068738794156, -6.777246954874611, 0],
          [105.5073253882261, -6.77719179451714, 0],
          [105.5076459583479, -6.777177399808555, 0]
        ]
      },
      "properties": {
        "name": "Rute Perjalanan 2",
        "styleUrl": "#msn_ylw-pushpin",
        "stroke-opacity": 1,
        "stroke": "#00ff7f",
        "stroke-width": 2,
        "icon-scale": 1.1,
        "icon-offset": [20, 2],
        "icon-offset-units": ["pixels", "pixels"],
        "icon": "http://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png"
      }
    },
    {
      "type": "Feature",
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [105.5045324870013, -6.778826422156198, 0],
          [105.5056026730307, -6.777479768200001, 0],
          [105.5060579268679, -6.777759160704173, 0],
          [105.5064558950989, -6.77787857754454, 0],
          [105.5065698540778, -6.77741142928664, 0],
          [105.5069972908544, -6.777445511874032, 0],
          [105.5075984915732, -6.777493235289038, 0],
          [105.5075979983646, -6.777179398919082, 0]
        ]
      },
      "properties": {
        "name": "Rute Perjalanan 3",
        "styleUrl": "#msn_ylw-pushpin",
        "stroke-opacity": 1,
        "stroke": "#00ff7f",
        "stroke-width": 2,
        "icon-scale": 1.1,
        "icon-offset": [20, 2],
        "icon-offset-units": ["pixels", "pixels"],
        "icon": "http://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png"
      }
    }
  ]
};

// Menambahkan garis ke peta
L.geoJSON(lineData, {
  style: function (feature) {
    return {
      color: feature.properties.stroke || feature.properties.color,
      weight: feature.properties['stroke-width'] || feature.properties.weight,
      opacity: feature.properties['stroke-opacity'] || feature.properties.opacity
    };
  }
}).addTo(map);


    // Menambahkan marker dari data GeoJSON
    L.geoJSON(data, {
      onEachFeature: function (feature, layer) {
        // Menambahkan popup dengan keterangan lokasi
        layer.bindPopup(feature.properties.popupContent);
      },
      pointToLayer: function (feature, latlng) {
        // Menambahkan marker dengan ikon yang telah ditentukan
        return L.marker(latlng, { icon: customIcon });
      }
      
    }).addTo(map);
  </script>
</body>
</html>
